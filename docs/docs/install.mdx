---
title: Installation guide
---

This guide walks you through setting up the Infrahub demo environment on your local system. By the end, you'll have a fully functional Infrahub instance with pre-loaded schemas, data, and generators ready to explore.

## Prerequisites

Before you begin, ensure you have the following installed on your system:

### Required software

- **Python 3.10, 3.11, or 3.12** - The demo requires a recent Python version
- **[uv](https://github.com/astral-sh/uv)** - Fast Python package manager for dependency management
- **Docker** - For running Infrahub containers and optionally Containerlab
- **Git** - For cloning the repository

### System requirements

- **Operating system**: macOS, Linux, or Windows (with WSL2)
- **Memory**: At least 8GB RAM (16GB recommended)
- **Disk space**: At least 10GB free space
- **Network**: Internet connection for downloading dependencies and Docker images

## Step 1: install uv

If you don't have `uv` installed, follow the installation instructions for your operating system:

```bash
# macOS and Linux
curl -LsSf https://astral.sh/uv/install.sh | sh

# Windows (PowerShell)
powershell -c "irm https://astral.sh/uv/install.ps1 | iex"
```

Verify the installation:

```bash
uv --version
```

## Step 2: clone the repository

Clone the demo repository to your local machine:

```bash
git clone https://github.com/opsmill/infrahub-demo.git
cd infrahub-demo
```

## Step 3: install Python dependencies

Use `uv` to install all required Python packages:

```bash
uv sync
```

This creates a virtual environment and installs all necessary packages including the Infrahub SDK.

## Step 4: set up environment variables

Create environment variables for connecting to Infrahub. You can either export them directly or create a `.env` file:

```bash
export INFRAHUB_ADDRESS="http://localhost:8000"
export INFRAHUB_API_TOKEN="06438eb2-8019-4776-878c-0941b1f1d1ec"
```

:::info
The API token above is a demo token for local development only. Do not use this in production environments.
:::

## Step 5: start Infrahub

Start the Infrahub containers using the included invoke task:

```bash
uv run invoke start
```

This command downloads and starts all required Docker containers. The first run may take several minutes as Docker images are pulled.

Wait for all containers to be healthy. You can check the status with:

```bash
docker ps
```

You should see containers for:

- `infrahub-server` - Main Infrahub API server
- `infrahub-database` - PostgreSQL database
- `infrahub-cache` - Redis cache
- `infrahub-message-queue` - RabbitMQ message broker
- `infrahub-git` - Git repository server

## Step 6: access the Infrahub web interface

Once the containers are running, open your web browser and navigate to:

```
http://localhost:8000
```

You should see the Infrahub login screen. Use the default credentials:

- **Username**: `admin`
- **Password**: `infrahub`

## Step 7: bootstrap the demo data

Now that Infrahub is running, load the demo schemas and data. You can use the automated bootstrap script or run the steps manually.

### Option A: automated bootstrap (recommended)

Run the bootstrap script to load everything in one command:

```bash
./scripts/bootstrap.sh
```

This script performs all the steps in Option B automatically.

### Option B: manual bootstrap

If you prefer to run each step individually:

```bash
# 1. Load schemas
uv run infrahubctl schema load schemas

# 2. Load menu definitions
uv run infrahubctl menu load menu

# 3. Load bootstrap data (locations, device types, platforms)
uv run infrahubctl object load data/bootstrap

# 4. Load security data (optional)
uv run infrahubctl object load data/security/

# 5. Add the demo repository
uv run infrahubctl repository add DEMO https://github.com/opsmill/infrahub-demo.git --read-only

# 6. Load event actions (optional, enables automatic generator execution)
uv run infrahubctl object load data/events/
```

:::tip
Loading schemas and data can take several minutes. Watch the console output to monitor progress.
:::

## Step 8: verify the installation

To verify that everything is set up correctly:

1. **Check the web interface** - Navigate to `http://localhost:8000` and log in
2. **Browse the schema** - Go to **Schema** in the left sidebar and verify that you see schemas like `DcimGenericDevice`, `IpamIPPrefix`, `TopologyDataCenter`
3. **View bootstrap data** - Navigate to **Infrastructure → Locations** and verify you see sample locations
4. **Check generators** - Go to **Actions → Generator Definitions** and verify you see `create_dc` and `create_pop` generators

## Troubleshooting

### Port conflicts

If port 8000 is already in use, you'll see an error when starting Infrahub. To resolve this:

1. Stop the conflicting service using port 8000
2. Or modify the port mapping in your Docker Compose configuration

### Dependency issues

If you encounter Python dependency errors:

```bash
# Clear the virtual environment and reinstall
rm -rf .venv
uv sync
```

### Docker issues

If Docker containers fail to start:

```bash
# Stop and remove all containers
uv run invoke destroy

# Restart
uv run invoke start
```

### Schema loading fails

If schema loading fails with validation errors, ensure you're using a compatible version of Infrahub. This demo is tested with Infrahub 1.0 and later.

## Next steps

Now that you have Infrahub running with the demo data loaded, you're ready to:

- Follow the **[user walkthrough](./user-walkthrough.mdx)** to create your first data center topology
- Explore the **[concepts](./concepts.mdx)** to understand the architecture
- Review the **[developer guide](./developer-guide.mdx)** to understand how the demo works under the hood

## Managing your environment

### Stopping Infrahub

To stop the containers without removing data:

```bash
uv run invoke stop
```

### Destroying the environment

To completely remove containers and volumes (fresh start):

```bash
uv run invoke destroy
```

### Restarting a specific component

To restart a single container:

```bash
uv run invoke restart <component-name>
```

For example, to restart the API server:

```bash
uv run invoke restart infrahub-server
```
