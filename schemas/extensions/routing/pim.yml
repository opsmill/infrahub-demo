---
# yaml-language-server: $schema=https://schema.infrahub.app/infrahub/schema/latest.json
version: "1.0"

nodes:
  - name: PIMInterface
    namespace: Routing
    description: "Interface configuration for PIM."
    label: "PIM Interface"
    icon: "mdi:ethernet"
    include_in_menu: false
    order_by:
      - name__value
    display_labels:
      - name__value
    uniqueness_constraints:
      - ["name__value"]
    human_friendly_id:
      - "name__value"
    attributes:
      # Could be computed later on based on PIM Instance / Interface Name
      - name: name
        kind: Text
        optional: false
        unique: true
        description: "Name of the PIM interface Profile."
        order_weight: 1500
      - name: pim_mode
        kind: Dropdown
        choices:
          - name: sparse
            label: Sparse Mode
            description: "Sparse Mode for efficient multicast forwarding."
            color: "#E6E6FA" # lavender
          - name: dense
            label: Dense Mode
            description: "Dense Mode for heavy multicast traffic."
            color: "#E6E6FA" # lavender
          - name: bidirectional
            label: Bidirectional Mode
            description: "Bidirectional PIM for efficient traffic forwarding."
            color: "#E6E6FA" # lavender
        description: "PIM mode used for multicast routing on this interface."
        order_weight: 1150
      - name: hello_interval
        kind: Number
        optional: true
        default_value: 30
        description: "Interval for PIM hello messages (in seconds)."
        order_weight: 1300
      - name: dr_priority
        kind: Number
        optional: true
        default_value: 1
        description: "Designated Router priority on the interface."
        order_weight: 1250
      # - name: interface
      #   peer: InterfaceLayer3
      #   optional: false
      #   cardinality: one
      #   kind: Attribute
      #   order_weight: 1200
